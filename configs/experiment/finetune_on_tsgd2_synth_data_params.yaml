# @package _global_

# to execute this experiment run:
# python train.py experiment=multispeaker

defaults:
  - override /data: tsgd2.yaml
  - override /model/duration_predictor: flow_matching.yaml
  - override /model/prosody_predictors: deterministic.yaml

# all parameters below will be merged with parameters from default configurations set above
# this allows you to overwrite only specified parameters

tags: ["tsg2"]


run_name: tsgd2_finetune_on_synthetic_trimodal

model:
  align_with_motion: true
  motion_prior_loss: true

  # optimizer:
    # lr: 5e-5

  # warm_start_path: logs/train/synthetic_trimodal_light/runs/2024-03-21_12-12-44/checkpoints/checkpoint_epoch=699.ckpt
  use_provided_durations: False


trainer:
  max_steps: 300001 # started at 93000
  # check_val_every_n_epoch: 4


data:
  n_spks: 16
  train_filelist_path: data/tsgd2/train_fake_speaker_15.txt
  valid_filelist_path: data/tsgd2/val_fake_speaker_15.txt
  data_statistics:
    pitch_min: 57.394836
    pitch_max: 850.00769
    pitch_mean: 176.277832
    pitch_std: 59.090569
    energy_min: 0.000716
    energy_max: 271.082886
    energy_mean: 36.908783
    energy_std: 39.947067
    mel_mean: -5.498495
    mel_std: 2.584965
    motion_mean: 0.897644
    motion_std: 0.717654